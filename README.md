# Library Site

### Название: **Сайт библиотеки**

## **Краткое описание идеи проекта**

Веб-приложение для библиотеки.
Предоставляет возможность посетителям библиотеки просматривать каталог книг в библиотеке и оставлять заявки на получение интересующих книг. 
Администратор библиотеки (библиотекарь) может одобрять заявки на выдачу книг, фиксировать возврат книг, добавлять/редактировать информацию о доступных книгах и авторах, также администратор
может создавать подборки книг.
Помимо каталога, на сайте будет располагаться информация о работе библиотеки и новости библиотеки.

## **Краткое описание предметной области**

Предметной областью является библиотека. Для удобства посетители могут просматривать имеющиеся в библиотеки книги на сайте и оставлять заявки на их выдачу,
библиотекарь может управлять заявками и редактировать информацию о книгах в библиотеке, авторах, а также создавать подборки книг. В качестве классификации используется ББК.

## **Краткий анализ аналогичных решений**
|Название|Создание заявки онлайн|Просмотр каталога|Новости библиотеки| 
|--------|----------|-------------|--------------|
|Центральная детская библиотека им. А. П. Гайдара г. Клин|+|+|+|
|Российская государственная библиотека|+|+|+|
|Российская национальная библиотека |-|+|+|
|Мой проект|+|+|+|

## **Краткое обоснование целесообразности и актуальности проекта**

Актуальность проекта обусловлена необходимостью предоставления удобного средства для просмотра каталога имеющихся книг в библиотеке, без необходимости
звонить или лично приходить в библиотеку, так же необходим удобный механизм для оставления заявок на получение книг. Библиотекарю так же нужно средство для простого редактирования
информации о книгах в библиотеке, а также управления возвратом книг и заявками на получение книг.

## **Краткое описание акторов (ролей)**

1. Гость (неавторизированный пользователь, может только просматривать каталог).
2. Посетитель (авторизированный пользователь, может также оставлять заявки на книги).
3. Библиотекарь (администратор, может одобрять заявки на выдачу книг, подтверждать возврат выданных книг конкретным посетителем, также может редактировать информацию о книгах, добавлять новые).

## **Use-Case**
![image](/docs/img/USE_CASE.svg)

## **ER-диаграмма сущностей**
![image](/docs/img/ER.svg)

## **Пользовательские сценарии**
Пользователь заходит на сайт библиотеки, он может:
1. Посмотреть новости библиотеки и её актуальный режим работы.
2. Перейти на страницу с каталогом.
3. Зайти на страницу с содержимым конкретной подборки.
4. Зайти на страницу конкретной книги.
5. Зайти на страницу конкретного автора.
6. Зайти на страницу регистрации, зарегистрироваться или перейти на страницу авторизации.
7. Зайти на страницу авторизации, авторизоваться или перейти на страницу регистрации.
8. Авторизоваться, зайти в личный кабинет.
9. Авторизоваться, зайти на страницу конкретной книги и оставить заяку на получение.
10. Авторизоваться, зайти на страницу конкретной книги и отменить заяку на получение.
10. Авторизоваться, зайти на страницу конкретной книги и оставить отзыв.
11. Авторизоваться, зайти на страницу конкретной книги и удалить свой отзыв.
12. Авторизоваться, зайти в личный кабинет, просмотреть список своих заявок.
13. Авторизоваться, зайти в личный кабинет, просмотреть список взятых книг.
14. Авторизоваться и осуществить комбинацию из доступных ему действий (или ни одно из них), выйти из аккаунта.
Если пользователь — администратор, то он также может:
1. Зайти на страницу конкретной книги и посмотреть список ожидающих заявок на эту книгу.
2. Зайти на страницу конкретной книги и одобрить заявку.
3. Зайти на страницу конкретной книги и посмотреть список выданных экземпляров (одобренных заявок).
4. Зайти на страницу конкретной книги и отметить зафиксировать возврат книги (отметить заявку как завершённую).
5. Зайти на страницу конкретной книги и удалить заявку.
6. Зайти на страницу конкретной книги и изменить информацию о ней.
7. Зайти на страницу конкретного автора и изменить информацию о нём.
8. Зайти на страницу добавления новой книги и добавить новую книгу.
9. Зайти на страницу добавления нового автора и добавить нового автора.
10. Зайти на страницу конкретной книги и удалить отзыв.

## **Формализация ключевых бизнес-процессов**
![image](/docs/img/BPMN.svg)

![image](/docs/img/BPMN-2.svg)

![image](/docs/img/BPMN-3.svg)


## **Описание типа приложения и выбранного технологического стека**

- Тип: SPA
- Backend: С# (.Net 6.0)
- Frontend: React, TypeScript
- СУБД: PostgreSQL + PgAdmin4

## **Верхнеуровневое разбиение на компоненты**
![image](/docs/img/COMP.svg)

## **UML диаграммы классов для двух отдельных компонентов**
![image](/docs/img/UML.svg)

## **Сборка приложения**

Сборка приложения реализована при помощи Shell-скрипта buildApp.sh:
`sh buildApp.sh`

Сборка технического UI реализована при помощи Shell-скрипта buildUI.sh:
`sh buildUI.sh`

## **Запуск приложения**

Запуск приложения реализован при помощи Shell-скрипта runApp.sh:
`sh runApp.sh`

Запуск технического UI реализован при помощи Shell-скрипта runUI.sh:
`sh runUI.sh`

## **Структура файлов приложения**

После завершения сборки полученные файлы должны находиться в директории obj/Debug/net8.0 или obj/Release/net8.0

В этой директории должны находиться:
- Директории ref с LibraryApp.dll
- Директории refint с LibraryApp.dll
- Испольняемый файл apphost.exe
- Иные файлы сборки

Конфиг приложения appsettings.json должен находиться в директории src/

## **Пользовательский интерфейс**

Запуск пользовательского интерфейса (клиента) реализован при помощи Shell-скрипта runClient.sh:
`sh runClient.sh`

Запуск сборки пользовательского интерфейса (клиента) реализован при помощи Shell-скрипта buildClient.sh:
`sh buildClient.sh`

Также возможен запуск при нахождении в директории clientUI/client через NPM

## **Структура файлов пользовательского интерфейса**
Пользовательский интерфейс приложения представляет SPA Web-приложение на фреймворке React, написанное на языке TypeScript с использованием паттерна MVC.

Файлы с пользовательским интерфейсом приложения (клиентской частью) должны находиться в директории clientUI/client.
Должны быть установлены необходимые библиотеки, установка происходит посредством обращения к пакетному менеджеру NPM:
`npm install`

Конфиг приложения tsconfig.json должен находиться в этой же директории, в конфиге должна присутствовать строка обращения к API "apiUrl"
